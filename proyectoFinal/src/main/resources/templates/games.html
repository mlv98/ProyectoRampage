<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head('Detalles de Juego')"></head>
<body class="text-gray-100 antialiased"
	style="background: linear-gradient(135deg, #000000 0%, #1a1a1a 40%, #333333 100%);">
	<header class="backdrop-blur-md bg-primary/75 fixed w-full z-20">
		
		</header>
	<div th:replace="fragments/header :: header"></div>
	<main class="pt-24 mx-auto w-4/5 space-y-16">
		<h1 class="text-4xl lg:text-6xl font-bold text-center"
			data-aos="fade-down">Explorar por categoría</h1>

		<div th:each="cat : ${categories}" class="space-y-6"
			data-aos="fade-up">
			<h2 class="text-2xl font-semibold text-accent">
				<span th:text="${cat.name}">Categoría</span>
			</h2>
			<div class="relative carousel-container">
				<button
					class="arrow-btn arrow-prev absolute left-0 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-black/50 rounded-full">
					<i class="fa-solid fa-chevron-left fa-2x text-white"></i>
				</button>
				<div
					class="carousel flex space-x-6 px-2 py-4 overflow-x-auto scrollbar-hide">
					<a th:each="game : ${cat.games}"
						th:href="@{/games/{slug}(slug=${game.slug})}"
						th:attr="data-game-id=${game.id}"
						class="carousel-item relative w-72 sm:w-80 md:w-96 lg:w-1/5 rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition duration-300"
						data-aos="fade-up"> <img th:src="${game.backgroundImage}"
						alt="" class="w-full h-72 md:h-80 lg:h-96 object-cover" />

						<div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 space-y-2">
							<h3 class="text-xl font-bold text-white truncate"
								th:text="${game.name}"></h3>
							<div class="flex flex-wrap gap-2 mt-1">
								<span th:each="plat : ${game.platforms}"
									class="text-xs bg-gray-700 text-gray-200 px-2 py-1 rounded-full truncate"
									th:text="${plat}"></span>
							</div>
							<button type="button"
								class="fav-btn relative top-1 right-0 m-2 text-3xl z-30">
								<i
									th:classappend="${favoriteIds != null and favoriteIds.contains(game.id)} ? 'fa-solid text-red-500' : 'fa-regular text-white'"
									class="fa-heart"></i>
							</button>
						</div>
					</a>
				</div>
				<button
					class="arrow-btn arrow-next absolute right-0 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-black/50 rounded-full">
					<i class="fa-solid fa-chevron-right fa-2x text-white"></i>
				</button>
			</div>
		</div>
	</main>
	<div th:replace="fragments/footer :: footer"></div>


	<script src="https://unpkg.com/aos@2.3.1/dist/aos.js" defer></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js"
		defer></script>
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script th:src="@{/js/games-carousel.js}" defer></script>
	<script th:src="@{/js/games.js}" defer></script>

</body>
</html>